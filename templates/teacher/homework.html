<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–î–æ–º–∞—à–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è | ShoPoDz</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/homework.css') }}">
</head>
<body data-week-start="{{ week_start.isoformat() }}">
  <div class="container">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <h2>üë®‚Äçüè´ –í—á–∏—Ç–µ–ª—å</h2>
      <ul class="menu">
        <li><a href="{{ url_for('teacher_schedule') }}">üìÖ –ú—ñ–π —Ä–æ–∑–∫–ª–∞–¥</a></li>
        <li><a href="{{ url_for('teacher.classes') }}">üë®‚Äçüéì –ú–æ—ó –∫–ª–∞—Å–∏</a></li>
        <li><a href="#">üìù –í–∏—Å—Ç–∞–≤–∏—Ç–∏ –æ—Ü—ñ–Ω–∫–∏</a></li>
        <li class="active"><a href="{{ url_for('homework.teacher_homework') }}">üìö –î–æ–º–∞—à–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</a></li>
        <li><a href="#">‚úÖ –í—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—ñ—Å—Ç—å</a></li>
        <li><a href="#">üìñ –ñ—É—Ä–Ω–∞–ª —É—á–Ω—è</a></li>
        <li><a href="#">üì® –ú–µ—Å–µ–Ω–¥–∂–µ—Ä</a></li>
        <li><a href="#">üñäÔ∏è –ü—ñ–¥–ø–∏—Å–∏ –≤ —â–æ–¥–µ–Ω–Ω–∏–∫—É</a></li>
      </ul>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="homework-content">
      <div class="homework-container">
        <div class="hw-header">
          <button id="prev-week">‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Ç–∏–∂–¥–µ–Ω—å</button>
          <span id="week-range">{{ week_start }} ‚Äî {{ week_end }}</span>
          <button id="next-week">–ù–∞—Å—Ç—É–ø–Ω–∏–π —Ç–∏–∂–¥–µ–Ω—å ‚Üí</button>
        </div>

        {% for day_data in homework_data %}
          <h4 style="margin:16px 0 8px">
            {{ day_data.date.strftime('%A, %d.%m') }}
          </h4>

          {% if day_data.lessons %}
            <table class="hw-table">
              <thead>
                <tr>
                  <th>–ö–ª–∞—Å</th>
                  <th>–£—Ä–æ–∫</th>
                  <th>–î–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è</th>
                  <th>–î—ñ—ó</th>
                </tr>
              </thead>
              <tbody>
                {% for item in day_data.lessons %}
                  <tr>
                    <!-- –û—Å—å –Ω–æ–≤–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å —ñ–∑ –Ω–æ–º–µ—Ä–æ–º —Ç–∞ –ø—ñ–¥–∫–ª–∞—Å–æ–º -->
                    <td>
                      {{ item.lesson.class_.class_number }}
                      {{ item.lesson.class_.subclass }}
                    </td>
                    <td>
                      {{ item.lesson.subject.title if item.lesson.subject else '‚Äî' }}
                    </td>
                    <td>
                      {% if item.homework %}
                        {{ item.homework.description }}
                      {% else %}
                        <span class="hw-empty">-</span>
                      {% endif %}
                    </td>
                    <td>
                      {% if item.homework %}
                        <button class="edit-btn"   data-id="{{ item.homework.homework_id }}">‚úé</button>
                        <button class="delete-btn" data-id="{{ item.homework.homework_id }}">üóë</button>
                      {% else %}
                        <button class="add-btn" data-lesson="{{ item.lesson.lesson_id }}">‚ûï</button>
                      {% endif %}
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          {% else %}
            <p class="no-lessons">–£ —Ü–µ–π –¥–µ–Ω—å —É –≤–∞—Å –Ω–µ–º–∞—î —É—Ä–æ–∫—ñ–≤</p>
          {% endif %}
        {% endfor %}

      </div>
    </main>
  </div>

  <script src="{{ url_for('static', filename='js/homework.js') }}"></script>
</body>
</html>
